<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HIS â€” IQ Evaluator</title>
  <meta name="description" content="Highly Intelligent Society (HIS) â€” a magnificently satirical collective. We bring together people with IQ over 420.69 â€” selfâ€‘reported." />
  <meta property="og:title" content="HIS â€” IQ Evaluator" />
  <meta property="og:description" content="We bring together people with IQ over 420.69 â€” selfâ€‘reported." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/og-his_1200x630.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="color-scheme" content="dark light">
  <link rel="icon" type="image/svg+xml" href="/his_favicon.svg">
  <link rel="apple-touch-icon" href="/icon-180.png" sizes="180x180">
  <style>
    :root{
      --bg:#0B0F1D; --panel:#101528; --text:#F6F7F9; --muted:#B8C0D8; --line:#1B223B;
      --a1:#9945FF; --a2:#8752F3; --a3:#14F195; --a4:#00FFA3; --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    /* Light theme */
    :root[data-theme="light"]{
      --bg:#F6F7FB; --panel:#ffffff; --text:#0B0F1D; --muted:#465173; --line:#E7EAF3;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font:16px/1.6 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans;
      color:var(--text);
      background: radial-gradient(1200px 700px at -10% -10%, rgba(153,69,255,.22), transparent 60%),
                  radial-gradient(1200px 700px at 110% 110%, rgba(0,255,163,.20), transparent 60%), var(--bg);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;}
    .wrap{max-width:960px;margin:0 auto;padding:22px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 0}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.2px}
    .ring{width:38px;height:38px;border-radius:999px;padding:2px;background:conic-gradient(from 260deg,var(--a1),var(--a2),var(--a3),var(--a4));}
    .ring>span{display:grid;place-items:center;width:100%;height:100%;border-radius:inherit;background:#fff;color:#0B0F1D;font-weight:900}
    .ring b{font-size:14px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:14px;border:1px solid var(--line);background:rgba(255,255,255,.03);cursor:pointer;transition:.2s}
    .btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
    .btn.primary{border:0;background:linear-gradient(135deg,var(--a1),var(--a2),var(--a3),var(--a4));color:#0B0F1D;font-weight:800}
    .btn.icon{padding:10px;width:42px;height:42px;justify-content:center}
    main{display:grid;place-items:center;padding:36px 0}
    .card{width:min(720px,100%);background:linear-gradient(180deg,rgba(255,255,255,.035),rgba(255,255,255,.01));border:1px solid var(--line);border-radius:var(--radius);padding:22px 22px 26px}
    .badge{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--line);color:var(--muted);font-weight:600;background:rgba(255,255,255,.03)}
    .dot{width:8px;height:8px;border-radius:50%;background:linear-gradient(135deg,var(--a1),var(--a4))}
    h1{margin:10px 0 4px;font-size:clamp(32px,6.2vw,56px);line-height:1.05;letter-spacing:-.02em}
    .lead{margin:0 0 14px;color:#E7E9F3}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0 6px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:18px}
    .panel{border:1px dashed var(--line);border-radius:14px;padding:16px;min-height:120px;display:grid;place-items:center;text-align:center;color:#E7E9F3}
    .mono{font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    #meter{font-size:56px;font-weight:900;letter-spacing:.02em}
    #status{color:var(--muted)}
    .hidden{display:none}
    .cards3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
    .cards3 h3{display:flex;align-items:center;gap:8px}
    @media (max-width:860px){.row{grid-template-columns:1fr}.cards3{grid-template-columns:1fr}}
    /* Quiz overlay */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:grid;place-items:center;padding:18px;z-index:100}
    .modal{width:min(640px,100%);background:var(--panel);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);padding:18px}
    .q{font-size:22px;font-weight:800;margin:10px 0 12px;text-align:center}
    .opts{display:grid;gap:10px;grid-template-columns:1fr 1fr}
    @media(max-width:680px){.opts{grid-template-columns:1fr}}
    .btn.opt{justify-content:center}
    /* Accordion styles */
    section[data-accordion] details{border-top:1px solid var(--line)}
    section[data-accordion] details:first-of-type{border-top:0}
    section[data-accordion] summary{list-style:none;cursor:pointer;padding:12px 2px;display:flex;align-items:center;gap:10px;font-weight:700}
    section[data-accordion] summary::-webkit-details-marker{display:none}
    section[data-accordion] details summary::after{content:'â–¸';margin-left:auto;transition:transform .2s}
    section[data-accordion] details[open] summary::after{content:'â–¾'}
    section[data-accordion] details>p{margin:0 0 12px;color:#E7E9F3}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand"><span class="ring"><span><b>HIS</b></span></span> <span>Highly&nbsp;Intelligent&nbsp;Society</span></div>
      <div>
        <a class="btn icon" href="https://x.com/Society42069" target="_blank" rel="noopener" aria-label="Open HIS on X">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M18.9 2H21l-7.3 8.3L22 22h-6.6l-5.2-6.8L4.3 22H2l7.8-8.9L2 2h6.6l5 6.5L18.9 2z" fill="currentColor"/></svg>
        </a>
        <button class="btn icon" id="themeToggle" aria-label="Toggle theme" title="Toggle theme">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><circle cx="12" cy="12" r="5"/></svg>
        </button>
      </div>
    </header>

    <main>
      <section class="card" aria-labelledby="title">
        <span class="badge"><span class="dot"></span> Satirical IQ toy</span>
        <h1 id="title">HIS IQ Evaluator</h1>
        <p class="lead">Scientifically inaccurate. Statistically hilarious. Results are <em>selfâ€‘reported</em>.</p>

        <div class="actions">
          <button id="btnStart" class="btn primary">Take test</button>
          <button id="btnSkip" class="btn">Skip test (faster)</button>
        </div>

        <!-- QUIZ modal -->
        <div id="quizOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="qTitle">
          <div class="modal">
            <div class="badge"><span class="dot"></span> Scientific questionnaire</div>
            <div id="qTitle" class="q">Question</div>
            <div id="qOpts" class="opts"></div>
            <div style="display:flex;justify-content:center;margin-top:10px">
              <button id="qClose" class="btn">Close</button>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="panel">
            <div id="meter" class="mono" aria-live="polite">â€”.â€”</div>
            <div id="status" class="mono">Awaiting peer reviewâ€¦</div>
          </div>
          <div class="panel">
            <div id="verdict" style="font-weight:800">No verdict yet</div>
            <div id="share" class="hidden" style="display:flex;gap:8px;margin-top:8px">
              <button id="btnCopy" class="btn" style="padding:8px 12px">Copy result</button>
              <a id="btnTweet" class="btn" style="padding:8px 12px" target="_blank" rel="noopener">Post on X</a>
              <button id="btnReset" class="btn" style="padding:8px 12px">Reset</button>
            </div>
            <div id="retry" class="hidden" style="margin-top:8px">
              <button id="btnRetake" class="btn" style="padding:8px 12px">Retake test</button>
            </div>
          </div>
        </div>
      </section>

      <section class="cards3" aria-label="Highlights" style="margin-top:8px">
        <div class="card"><h3><span aria-hidden="true">ðŸª«</span> Daily demotivation</h3><p class="mono" style="color:var(--muted)">Start your day with statistically poor decisions.</p></div>
        <div class="card"><h3><span aria-hidden="true">ðŸ§ª</span> Satirical cult on Solana</h3><p class="mono" style="color:var(--muted)">We connect likeâ€‘minded brains. Vibes only.</p></div>
        <div class="card"><h3><span aria-hidden="true">ðŸ§ </span> Low effort, high culture</h3><p class="mono" style="color:var(--muted)">Memes > manifests. Keep it crisp.</p></div>
      </section>

      <section class="card" style="margin-top:16px" data-accordion>
        <h2 style="margin:6px 0 10px">FAQ</h2>
        <details><summary><strong>What is Highly Intelligent Society?</strong></summary>
          <p>HIS is a satirical cult on Solana with the purpose of connecting likeâ€‘minded people. We like to do crazy, viral stuff.</p>
        </details>
        <details><summary><strong>How do I become part of the community?</strong></summary>
          <p>Follow us on X, where weâ€™re focusing the community for now. Weâ€™ll open a Discord server with limited spots soon.</p>
        </details>
        <details><summary><strong>What assets do you plan to launch?</strong></summary>
          <p>Weâ€™ll launch NFTs and a society token that we will pump indefinitely.</p>
        </details>
        <details><summary><strong>Is your IQ really over 420.69?</strong></summary>
          <p>Yes (your mom did the test).</p>
        </details>
      </section>
    </main>

    <footer style="color:var(--muted);border-top:1px solid var(--line);margin-top:26px;padding-top:14px;font-size:13px">
      Â© <span id="y"></span> Highly Intelligent Society Â· Satire only.
    </footer>
  </div>

  <script>
    // year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Theme toggle
    (function(){
      const btn = document.getElementById('themeToggle');
      const sun = '<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><circle cx="12" cy="12" r="5"/><g><path d="M12 1v3M12 20v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M1 12h3M20 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" stroke="currentColor" fill="none" stroke-linecap="round"/></g></svg>';
      const moon = '<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>';
      function apply(t){ document.documentElement.dataset.theme = t; localStorage.setItem('theme', t); btn.innerHTML = (t==='light'? moon : sun); }
      const stored = localStorage.getItem('theme');
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      apply(stored || (prefersLight ? 'light':'dark'));
      btn?.addEventListener('click', ()=> apply(document.documentElement.dataset.theme === 'light' ? 'dark' : 'light'));
    })();

    // Elements
    const meter = document.getElementById('meter');
    const statusEl = document.getElementById('status');
    const verdict = document.getElementById('verdict');
    const share = document.getElementById('share');
    const btnStart = document.getElementById('btnStart');
    const btnSkip = document.getElementById('btnSkip');
    const btnCopy = document.getElementById('btnCopy');
    const btnTweet = document.getElementById('btnTweet');
    const btnReset = document.getElementById('btnReset');
    const retry = document.getElementById('retry');
    const btnRetake = document.getElementById('btnRetake');

    // Quiz elements
    const overlay = document.getElementById('quizOverlay');
    const qTitle = document.getElementById('qTitle');
    const qOpts = document.getElementById('qOpts');
    const qClose = document.getElementById('qClose');

    const bank = [
      {q:"Choose your risk management:", a:["Double down","Close the app","Vibes only"]},
      {q:"How many rugs is healthy?", a:["0 (coward)","A few, for character","All of them"]},
      {q:"Pick your spirit hand:", a:["Diamond","Paper","Bag"]},
      {q:"Best research method?", a:["Read the memes","Ask CT","Skim whitepaper title"]},
      {q:"When do you take profits?", a:["Never","After âˆ’80%","Whatâ€™s profit?"]},
      {q:"Your default IQ isâ€¦", a:["420.69","69","42"]},
      {q:"Identify this pattern:", a:["Banana","Ascending vibes","Wiggly squiggle"]},
      {q:"Favorite beverage:", a:["Copium latte","Hopium soda","Tears of bears"]},
      {q:"Whatâ€™s your stopâ€‘loss?", a:["Hope","My last $5","Momâ€™s call"]},
      {q:"Pick a superpower:", a:["Time travel to sell tops","Influencer DMs","Infinite airdrops"]},
      {q:"Best entry strategy:", a:["Buy top","Chase green candle","Follow cousinâ€™s alpha"]},
      {q:"Are you a bot?", a:["Yes","No","Only on weekends"]}
    ];

    function animateTo(target){
      const start = performance.now();
      const from = 0;
      const duration = 1500;
      const fmt = n => n.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,'$1,');
      function tick(now){
        const t = Math.min(1,(now-start)/duration);
        const eased = 1 - Math.pow(1-t,3);
        const val = from + (target-from)*eased;
        meter.textContent = fmt(val);
        if(t<1) requestAnimationFrame(tick); else meter.textContent = target.toFixed(2);
      }
      requestAnimationFrame(tick);
    }

    function startQuiz(){
      const picks = [...bank].sort(()=>Math.random()-0.5).slice(0,3);
      let qi = 0;
      overlay.classList.remove('hidden');
      renderQ();
      function renderQ(){
        const item = picks[qi];
        qTitle.textContent = item.q;
        qOpts.innerHTML = '';
        item.a.forEach(txt=>{
          const b = document.createElement('button');
          b.className = 'btn opt';
          b.textContent = txt;
          b.onclick = ()=>{
            qi++;
            if(qi >= picks.length){ overlay.classList.add('hidden'); computeResult('quiz'); }
            else { renderQ(); }
          };
          qOpts.appendChild(b);
        });
      }
    }

    function computeResult(mode){
      // 80% above 420, 20% below 420
      const r = new Uint32Array(1); crypto.getRandomValues(r);
      const pick = r[0] / (2**32 - 1);
      const above = pick < 0.8;
      function rnd(min,max){
        const a = new Uint32Array(1); crypto.getRandomValues(a);
        const t = a[0] / (2**32 - 1);
        return min + (max - min) * t;
      }
      const score = above ? parseFloat(rnd(420.01, 999.99).toFixed(2))
                          : parseFloat(rnd(69.00, 419.99).toFixed(2));

      statusEl.textContent = 'Running very advanced mathâ€¦';
      verdict.textContent = 'Measuring confidenceâ€¦';
      share.classList.add('hidden');
      retry.classList.add('hidden');
      animateTo(score);

      setTimeout(()=>{
        if(mode === 'quiz' && score >= 420){
          statusEl.textContent = 'peerâ€‘reviewed';
          verdict.innerHTML = `Your IQ is <strong>${score.toFixed(2)}</strong>.<br><span class="mono" style="font-size:14px;color:var(--muted)">You have been added to the waitlist. Confirm your entry by tweeting your IQ score.</span>`;
          share.classList.remove('hidden');
          const text = encodeURIComponent(`My IQ value is over 420. I am a genius and was added to @society42069 waitlist!\n\nFind out your IQ on https://society42069.com`);
          btnTweet.href = `https://twitter.com/intent/tweet?text=${text}`;
        } else if(mode === 'quiz' && score < 420){
          statusEl.textContent = 'peer review failed';
          verdict.innerHTML = 'Your IQ is too low. Try again.';
          retry.classList.remove('hidden');
        } else {
          statusEl.textContent = 'Peer review denied';
          verdict.innerHTML = '<strong>Brain issue detected.</strong> Opinion rejected.';
        }
      }, 1700);
    }

    // Buttons
    btnStart.addEventListener('click', startQuiz);
    btnSkip.addEventListener('click', ()=>{
      meter.textContent = 'â€”.â€”';
      statusEl.textContent = 'Peer review denied';
      verdict.innerHTML = '<strong>Brain issue detected.</strong> Opinion rejected.';
      share.classList.add('hidden');
      retry.classList.add('hidden');
    });
    btnCopy.addEventListener('click', async ()=>{
      const t = verdict.textContent + ' â€” via HIS';
      try{ await navigator.clipboard.writeText(t); btnCopy.textContent = 'Copied âœ”'; setTimeout(()=>btnCopy.textContent='Copy result',1200);}catch(e){ btnCopy.textContent='Copy failed'; setTimeout(()=>btnCopy.textContent='Copy result',1200);}  
    });
    btnReset.addEventListener('click',()=>{
      meter.textContent='â€”.â€”';
      statusEl.textContent='Awaiting peer reviewâ€¦';
      verdict.textContent='No verdict yet';
      share.classList.add('hidden');
      retry.classList.add('hidden');
    });

    // Close quiz overlay
    qClose.addEventListener('click', ()=> overlay.classList.add('hidden'));

    // Accordion one-open rule
    (function(){
      const acc = document.querySelectorAll('section[data-accordion] details');
      acc.forEach(d => d.addEventListener('toggle', () => {
        if(d.open){ acc.forEach(o => { if(o !== d) o.removeAttribute('open'); }); }
      }));
    })();
  </script>
</body>
</html>
